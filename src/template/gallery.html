<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Whoopsie Results</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">

    <style>
        * {
            box-sizing: border-box;
        }

        .p-1 {
            padding: 1em;
        }

        .red {
            color: #cd4855;
        }

        .green {
            color: #31b485;
        }

        .dark {
            color: #403f4c;
        }
    </style>
</head>
<body>
    <div class="pure-g">
        <div class="pure-u-1-1 p-1">
            <h1>Test Result</h1>

            <h2>
                <span class="green"><%= summary.passes %> passes</span> /
                <span class="red"><%= summary.failures %> failures</span> /
                <span><%= summary.total %> total</span>
            </h2>
        </div>
    </div>

    <% _.forEach(results, function(result) { %>
        <div class="pure-g">
            <div class="pure-u-1-3 p-1">
                <h3><%= result.base.url %></h3>

                <img class="pure-img" src="data:image/png;base64,<%= result.base.image.toString('base64') %>">
            </div>

            <div class="pure-u-1-3 p-1">
                <h3><%= result.test.url %></h3>

                <img class="pure-img" src="data:image/png;base64,<%= result.test.image.toString('base64') %>">
            </div>

            <div class="pure-u-1-3 p-1">
                <h3 class="<%= result.failed ? 'red' : 'green' %>">
                    <%= (result.results.percentage * 100).toFixed(2) %>% difference
                </h3>

                <img class="pure-img" src="data:image/png;base64,<%= result.image.toString('base64') %>">
            </div>
        </div>
    <% }); %>
</body>
</html>
